"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CacheServiceProvider = exports.CACHE_SERVICE = void 0;
const cache_factory_1 = require("../cache.factory");
const cache_interface_1 = require("../interface/cache.interface");
exports.CACHE_SERVICE = 'CACHE_SERVICE';
exports.CacheServiceProvider = {
    provide: exports.CACHE_SERVICE,
    useFactory: (cacheFactory) => {
        const cacheType = process.env.CACHE_TYPE || cache_interface_1.CacheType.MEMORY;
        return cacheFactory.create(cacheType);
    },
    inject: [cache_factory_1.CacheFactory],
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FjaGUucHJvdmlkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJjYWNoZS5wcm92aWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSxvREFBZ0Q7QUFDaEQsa0VBQXdFO0FBRTNELFFBQUEsYUFBYSxHQUFHLGVBQWUsQ0FBQztBQUVoQyxRQUFBLG9CQUFvQixHQUE0QjtJQUMzRCxPQUFPLEVBQUUscUJBQWE7SUFDdEIsVUFBVSxFQUFFLENBQUMsWUFBMEIsRUFBRSxFQUFFO1FBQ3pDLE1BQU0sU0FBUyxHQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBd0IsSUFBSSwyQkFBUyxDQUFDLE1BQU0sQ0FBQztRQUM1RSxPQUFPLFlBQVksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUNELE1BQU0sRUFBRSxDQUFDLDRCQUFZLENBQUM7Q0FDdkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xyXG5pbXBvcnQgeyBDYWNoZUZhY3RvcnkgfSBmcm9tICcuLi9jYWNoZS5mYWN0b3J5JztcclxuaW1wb3J0IHsgSUNhY2hlU2VydmljZSwgQ2FjaGVUeXBlIH0gZnJvbSAnLi4vaW50ZXJmYWNlL2NhY2hlLmludGVyZmFjZSc7XHJcblxyXG5leHBvcnQgY29uc3QgQ0FDSEVfU0VSVklDRSA9ICdDQUNIRV9TRVJWSUNFJztcclxuXHJcbmV4cG9ydCBjb25zdCBDYWNoZVNlcnZpY2VQcm92aWRlcjogUHJvdmlkZXI8SUNhY2hlU2VydmljZT4gPSB7XHJcbiAgcHJvdmlkZTogQ0FDSEVfU0VSVklDRSxcclxuICB1c2VGYWN0b3J5OiAoY2FjaGVGYWN0b3J5OiBDYWNoZUZhY3RvcnkpID0+IHtcclxuICAgIGNvbnN0IGNhY2hlVHlwZSA9IChwcm9jZXNzLmVudi5DQUNIRV9UWVBFIGFzIENhY2hlVHlwZSkgfHwgQ2FjaGVUeXBlLk1FTU9SWTtcclxuICAgIHJldHVybiBjYWNoZUZhY3RvcnkuY3JlYXRlKGNhY2hlVHlwZSk7XHJcbiAgfSxcclxuICBpbmplY3Q6IFtDYWNoZUZhY3RvcnldLFxyXG59O1xyXG5cclxuIl19